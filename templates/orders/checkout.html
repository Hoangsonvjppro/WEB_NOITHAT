{% extends 'base_customer.html' %}
{% load static i18n %}

{% block content %}
<div class="win95-window">
    <div class="win95-titlebar">{% trans "Thanh toán" %}</div>
    <div class="win95-content">
        <div class="win95-checkout-layout">
            <!-- Danh sách sản phẩm -->
            <div class="win95-cart-items">
                <h3 class="win95-subtitle">{% trans "Sản phẩm trong giỏ hàng" %}</h3>
                {% for item in cart.cartitem_set.all %}
                    <div class="win95-cart-item">
                        {% if item.product.image %}
                            <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
                        {% else %}
                            <div class="win95-no-image-small">
                                <span>{% trans "Không có ảnh" %}</span>
                            </div>
                        {% endif %}
                        <div class="win95-cart-info">
                            <h4>{{ item.product.name }}</h4>
                            <p>{% trans "Số lượng:" %} {{ item.quantity }}</p>
                            <p>{{ item.product.price }} VNĐ</p>
                        </div>
                    </div>
                {% endfor %}
            </div>

            <!-- Form thanh toán -->
            <div class="win95-payment-form">
                <h3 class="win95-subtitle">{% trans "Thông tin thanh toán" %}</h3>
                <form method="post">
                    {% csrf_token %}
                    <div class="win95-radio-group">
                        <label class="win95-radio">
                            <input type="radio" name="payment_method" value="Cash" checked>
                            <span>{% trans "Tiền mặt" %}</span>
                            <small>{% trans "Thanh toán khi nhận hàng" %}</small>
                        </label>
                        <label class="win95-radio">
                            <input type="radio" name="payment_method" value="Card">
                            <span>{% trans "Thẻ tín dụng" %}</span>
                            <small>{% trans "Thanh toán trực tuyến" %}</small>
                        </label>
                    </div>
                    <div class="win95-total">
                        <span>{% trans "Tổng cộng:" %}</span>
                        <strong>{{ cart.total_price }} VNĐ</strong>
                    </div>
                    <button type="submit" class="win95-button">
                        {% trans "Xác nhận thanh toán" %}
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    .win95-checkout-layout {
        display: flex;
        gap: 20px;
    }
    .win95-cart-items {
        flex: 2;
    }
    .win95-payment-form {
        flex: 1;
        border: 2px solid #000;
        padding: 10px;
        background: #fff;
    }
    .win95-cart-item {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
        padding: 10px;
        border: 2px solid #000;
        background: #fff;
    }
    .win95-cart-item img {
        width: 100px;
        height: 100px;
        object-fit: cover;
    }
    .win95-radio-group {
        margin-bottom: 20px;
    }
    .win95-radio {
        display: block;
        margin: 10px 0;
        padding: 8px;
        border: 2px solid #000;
        background: #c0c0c0;
    }
    .win95-total {
        border-top: 2px solid #000;
        padding-top: 10px;
        display: flex;
        justify-content: space-between;
        margin: 20px 0;
    }
</style>
{% endblock %}